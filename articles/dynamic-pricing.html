<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dynamic Pricing • dynamicpv</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="48x48" href="../favicon-48x48.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Dynamic Pricing">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dynamicpv</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/cost-effectiveness-applications.html">Cost Effectiveness Applications</a>
    </li>
    <li>
      <a href="../articles/dynamic-pricing.html">Dynamic Pricing</a>
    </li>
    <li>
      <a href="../articles/dynamic-uptake.html">Dynamic Uptake</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/MSDLLCpapers/dynacem/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Dynamic Pricing</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/MSDLLCpapers/dynacem/blob/main/vignettes/dynamic-pricing.Rmd" class="external-link"><code>vignettes/dynamic-pricing.Rmd</code></a></small>
      <div class="hidden name"><code>dynamic-pricing.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="what-is-dynamic-pricing">What is dynamic pricing?<a class="anchor" aria-label="anchor" href="#what-is-dynamic-pricing"></a>
</h2>
<p>Dynamic pricing is pricing of a resource (e.g. acquisition cost of
some medicine, wages of a professional) that changes in time. Often, we
might assume that prices are constant in real terms. In other words,
were it not for price inflation, prices would be constant. This
assumption provides a lot of mathematical convenience in that we can
keep calculations of Net Present Value (NPV) a lot simpler.</p>
<p>NPV of a cashflow
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>c</mi><mi>t</mi></msub><annotation encoding="application/x-tex">c_t</annotation></semantics></math>
in
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>t</mi><annotation encoding="application/x-tex">t</annotation></semantics></math>
years time, assuming prices constant in real terms and an annual
discount rate of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math>:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi>P</mi><mi>V</mi><mo>=</mo><mfrac><msub><mi>c</mi><mi>t</mi></msub><msup><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>+</mo><mi>i</mi><mo stretchy="true" form="postfix">)</mo></mrow><mi>t</mi></msup></mfrac></mrow><annotation encoding="application/x-tex">NPV = \frac{c_t}{(1+i)^{t}}</annotation></semantics></math></p>
<p>If we cannot make that assumption, then we need an estimate of the
future cashflow after allowing for inflation specific to that cashflow
(nominal value), and we must discount by a nominal rather than real
discount rate,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mi>′</mi><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>+</mo><mi>i</mi><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>+</mo><msub><mi>r</mi><mi>g</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">i' = (1+i)(1+r_g) - 1</annotation></semantics></math>.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi>P</mi><mi>V</mi><mo>=</mo><msub><mi>c</mi><mi>t</mi></msub><mo>×</mo><mfrac><msup><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>+</mo><msub><mi>r</mi><mi>c</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow><mi>t</mi></msup><mrow><msup><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>+</mo><msub><mi>r</mi><mi>g</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow><mi>t</mi></msup><msup><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>+</mo><mi>i</mi><mo stretchy="true" form="postfix">)</mo></mrow><mi>t</mi></msup></mrow></mfrac><mo>=</mo><msub><mi>c</mi><mi>t</mi></msub><mo>×</mo><mfrac><msup><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>+</mo><msub><mi>r</mi><mi>c</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow><mi>t</mi></msup><msup><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>+</mo><mi>i</mi><mi>′</mi><mo stretchy="true" form="postfix">)</mo></mrow><mi>t</mi></msup></mfrac></mrow><annotation encoding="application/x-tex">NPV = c_t \times \frac{(1+r_c)^t}{(1+r_g)^t (1+i)^t} = c_t \times \frac{(1+r_c)^t}{(1+i')^t} </annotation></semantics></math></p>
<p>The values are only the same if the inflation specific to the
cashflow is the same as the general rate of price inflation included in
the nominal discount rate
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>r</mi><mi>c</mi></msub><mo>=</mo><msub><mi>r</mi><mi>g</mi></msub></mrow><annotation encoding="application/x-tex">r_c = r_g</annotation></semantics></math>).</p>
<p>When working with resources whose pricing is not dynamic, then
calculations in real terms is quite adequate. However, when working with
resources whose prices may be dynamic, it can be clearer to work in
nominal terms - requiring an explicit estimate of the cashflows in
nominal terms, and including an explicit inflation term in the
derivation of the (nominal) discount rate.</p>
</div>
<div class="section level2">
<h2 id="using-dynamicpv">Using <em>dynamicpv</em><a class="anchor" aria-label="anchor" href="#using-dynamicpv"></a>
</h2>
<p>First let us load the packages we will use for this vignette.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://MSDLLCpapers.github.io/dynacem/" class="external-link">dynamicpv</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="cashflows-constant-in-real-terms">Cashflows constant in real terms<a class="anchor" aria-label="anchor" href="#cashflows-constant-in-real-terms"></a>
</h3>
<p>It is overkill rather to use <em>dynamicpv</em> to calculate the NPV
of a cashflow that is constant in real terms, since there are simpler
routes to doing this. However, let is start there.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># A simple cashflow</span></span>
<span><span class="va">cashflow</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">110</span>, <span class="fl">120</span>, <span class="fl">130</span>, <span class="fl">140</span>, <span class="fl">150</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># (Real) discount rate of 3\% per timestep (year)</span></span>
<span><span class="va">disc</span> <span class="op">&lt;-</span> <span class="fl">0.03</span></span>
<span></span>
<span><span class="co"># Run dynpv calculation with full output</span></span>
<span><span class="va">pv1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dynpv.html">dynpv</a></span><span class="op">(</span>payoffs<span class="op">=</span><span class="va">cashflow</span>, discrate<span class="op">=</span><span class="va">disc</span><span class="op">)</span></span>
<span><span class="va">pv1</span></span>
<span><span class="co">#&gt; $inputs</span></span>
<span><span class="co">#&gt; $inputs$uptakes</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs$payoffs</span></span>
<span><span class="co">#&gt; [1] 110 120 130 140 150</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs$horizon</span></span>
<span><span class="co">#&gt; [1] 5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs$tzero</span></span>
<span><span class="co">#&gt; [1] 0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs$prices</span></span>
<span><span class="co">#&gt; [1] 1 1 1 1 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $inputs$discrate</span></span>
<span><span class="co">#&gt; [1] 0.03</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $results</span></span>
<span><span class="co">#&gt; $results$ncoh</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $results$uptake</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $results$calc</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 9</span></span></span>
<span><span class="co">#&gt;       j     k     l     t    uj    pk     R     v    pv</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1     1     0     1     1   110     1 1      110 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     1     2     0     2     1   120     1 0.971  117.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     1     3     0     3     1   130     1 0.943  123.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     1     4     0     4     1   140     1 0.915  128.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>     1     5     0     5     1   150     1 0.888  133.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $results$cohpv</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 3</span></span></span>
<span><span class="co">#&gt;       j tzero   spv</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1     0  610.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $results$total</span></span>
<span><span class="co">#&gt; [1] 610.4352</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $results$mean</span></span>
<span><span class="co">#&gt; [1] 610.4352</span></span>
<span></span>
<span><span class="co"># Pull out result of interest</span></span>
<span><span class="va">pv1</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">total</span></span>
<span><span class="co">#&gt; [1] 610.4352</span></span></code></pre></div>
<p>The calculation can be presented in a table as follows.</p>
<table class="table">
<caption>Table: Calculation of NPV from a simple cashflow and given
discount rate {#tbl-simple}</caption>
<thead><tr class="header">
<th>Time</th>
<th>Cashflow</th>
<th>Discount factor</th>
<th>Product</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>t</mi><annotation encoding="application/x-tex">t</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>c</mi><mi>t</mi></msub><annotation encoding="application/x-tex">c_t</annotation></semantics></math></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>v</mi><mi>t</mi></msup><mo>=</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>+</mo><mi>i</mi><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo>−</mo><mi>t</mi></mrow></msup></mrow><annotation encoding="application/x-tex">v^t = (1+i)^{-t}</annotation></semantics></math></td>
<td></td>
</tr>
<tr class="even">
<td>1</td>
<td><code>r{cashflow[1]}</code></td>
<td><code>r{vt1[1]}</code></td>
<td><code>r{cashflow[1] * vt1[1]}</code></td>
</tr>
<tr class="odd">
<td>2</td>
<td><code>r{cashflow[2]}</code></td>
<td><code>r{vt1[2]}</code></td>
<td><code>r{cashflow[2] * vt1[2]}</code></td>
</tr>
<tr class="even">
<td>3</td>
<td><code>r{cashflow[3]}</code></td>
<td><code>r{vt1[3]}</code></td>
<td><code>r{cashflow[3] * vt1[3]}</code></td>
</tr>
<tr class="odd">
<td>4</td>
<td><code>r{cashflow[4]}</code></td>
<td><code>r{vt1[4]}</code></td>
<td><code>r{cashflow[4] * vt1[4]}</code></td>
</tr>
<tr class="even">
<td>5</td>
<td><code>r{cashflow[5]}</code></td>
<td><code>r{vt1[5]}</code></td>
<td><code>r{cashflow[5] * vt1[5]}</code></td>
</tr>
<tr class="odd">
<td>——</td>
<td>———-</td>
<td>——————–</td>
<td>———</td>
</tr>
<tr class="even">
<td>Total</td>
<td><code>r{sum(cashflow)}</code></td>
<td></td>
<td><code>r{sum(vt1 * cashflow)</code></td>
</tr>
</tbody>
</table>
<p>The present value of this cashflow is
<code>r{pv1$results$tota}</code>. The same result could have been found
more easily than invoking this package.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vt1</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">disc</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="op">-</span><span class="fl">1</span> <span class="op">*</span> <span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">vt1</span> <span class="op">*</span> <span class="va">cashflow</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 610.4352</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="cashflow-escalating-at-constant-rate">Cashflow escalating at constant rate<a class="anchor" aria-label="anchor" href="#cashflow-escalating-at-constant-rate"></a>
</h3>
<p>In this setting, let us assume that the cashflow escalates at a
constant rate, but that this constant rate is not equal to the general
price inflation one would include in a nominal discount rate. In this
example, let us assume that the price of the cashflow increases at 1 %
per year, but that general price inflation is 2.5 % per year. The real
discount rate is unchanged at 3 % per year.</p>
<p>We can perform this calculation in two ways.</p>
<p>The first way would be to calculate an adjusted discount rate, equal
to
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>+</mo><msub><mi>r</mi><mi>g</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>+</mo><mi>i</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><msub><mi>r</mi><mi>c</mi></msub></mrow></mfrac><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\frac{(1+r_g)(1+i)}{1+r_c}-1</annotation></semantics></math>
in the equations above.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Calculate adjusted nominal discount rate</span></span>
<span><span class="va">adjdisc</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fl">1</span><span class="op">+</span><span class="va">disc</span><span class="op">)</span> <span class="op">*</span> <span class="fl">1.025</span> <span class="op">/</span> <span class="fl">1.01</span> <span class="op">-</span> <span class="fl">1</span></span>
<span></span>
<span><span class="co"># Use dynpv with adjusted discount rate</span></span>
<span><span class="va">pv2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dynpv.html">dynpv</a></span><span class="op">(</span>payoffs<span class="op">=</span><span class="va">cashflow</span>, discrate<span class="op">=</span><span class="va">adjdisc</span><span class="op">)</span></span>
<span><span class="va">pv2</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">total</span></span>
<span><span class="co">#&gt; [1] 591.9954</span></span>
<span></span>
<span><span class="co"># Compare with more base calculations</span></span>
<span><span class="va">vt2</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">adjdisc</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="op">-</span><span class="fl">1</span> <span class="op">*</span> <span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">vt2</span> <span class="op">*</span> <span class="va">cashflow</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 591.9954</span></span></code></pre></div>
<p>The present value of this cashflow is
<code>r{pv2$results$tota}</code>. The second way works more generally
for dynamic pricing, and involves calculating a price index at each
time.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set up price index</span></span>
<span><span class="va">pinfl</span> <span class="op">&lt;-</span> <span class="fl">0.01</span></span>
<span><span class="va">pindex</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fl">1</span><span class="op">+</span><span class="va">pinfl</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">pindex</span></span>
<span><span class="co">#&gt; [1] 1.000000 1.010000 1.020100 1.030301 1.040604</span></span>
<span></span>
<span><span class="co"># Nominal discount rate</span></span>
<span><span class="va">nomdisc</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fl">1</span><span class="op">+</span><span class="va">disc</span><span class="op">)</span><span class="op">*</span><span class="op">(</span><span class="fl">1</span><span class="op">+</span><span class="va">pinfl</span><span class="op">)</span><span class="op">-</span><span class="fl">1</span></span>
<span></span>
<span><span class="co"># Calculate present value</span></span>
<span><span class="va">pv3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dynpv.html">dynpv</a></span><span class="op">(</span>payoffs<span class="op">=</span><span class="va">cashflow</span>, prices<span class="op">=</span><span class="va">pindex</span>, discrate<span class="op">=</span><span class="va">nomdisc</span><span class="op">)</span></span>
<span><span class="va">pv3</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">total</span></span>
<span><span class="co">#&gt; [1] 610.4352</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="cashflow-changing-irregularly">Cashflow changing irregularly<a class="anchor" aria-label="anchor" href="#cashflow-changing-irregularly"></a>
</h3>
<p>Where <em>dynamicpv</em> is most relevant is when the price index is
more irregular. For example, one might anticipate a sudden future change
in a price of a certain resource (e.g. drug price reduction on loss of
exclusivity). This can be accommodated in the price index. In this
simple example, let us assume that the underlying price of the resource
reduces to half its original value in the fourth year.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Revise the price index to be 0.5 in year 4</span></span>
<span><span class="va">pindex</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0.5</span></span>
<span><span class="va">pindex</span></span>
<span><span class="co">#&gt; [1] 1.000000 1.010000 1.020100 0.500000 1.040604</span></span>
<span></span>
<span><span class="co"># Calculate present value</span></span>
<span><span class="va">pv4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dynpv.html">dynpv</a></span><span class="op">(</span>payoffs<span class="op">=</span><span class="va">cashflow</span>, prices<span class="op">=</span><span class="va">pindex</span>, discrate<span class="op">=</span><span class="va">nomdisc</span><span class="op">)</span></span>
<span><span class="va">pv4</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">total</span></span>
<span><span class="co">#&gt; [1] 544.4913</span></span></code></pre></div>
<p>The NPV has reduced by
<code>r{pv3$results$total-pv4$results$total}</code> to
<code>r{pv4$results$total}</code>.</p>
</div>
</div>
<div class="section level2">
<h2 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h2>
<ul>
<li>Dynamic pricing is when pricing of a resource changes in time. This
can complicate calculations of NPV.</li>
<li>The <code><a href="../reference/dynpv.html">dynamicpv::dynpv()</a></code> function can be used to
calculate NPVs for arbitrary vectors of cashflows, at a given discount
rate and a given underlying price index.</li>
<li>In this way, the function can accommodate as needed irregular prices
changes, regular price changes, or no price change at all.</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Dominic Muston, Merck &amp; Co., Inc., Rahway, NJ, USA and its affiliates.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer>
</div>






  </body>
</html>
